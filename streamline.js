/*jslint node: true */
"use strict";

var fs = require('fs');
var pg = require('pg');

module.exports = function(filesEEG, winston) {

    var obj = JSON.parse(fs.readFileSync('connection.json', 'utf8'));

    var conString = "postgres://" + obj.name + ":" + obj.password + "@" + obj.host + ":" + obj.port + "/" + obj.db;




    var client = new pg.Client(conString);

    client.connect();

    var query = client.query("DROP TABLE data.seq1; DROP TABLE data.seq2; DROP TABLE data.seq3; DROP TABLE data.seq4; DROP TABLE data.seq5; DROP TABLE data.seq6; DROP TABLE data.seq7; DROP TABLE data.seq8; DROP TABLE data.seq9; DROP TABLE data.seq10; DROP TABLE data.seq11; DROP TABLE data.seq12; DROP TABLE data.seq13; DROP TABLE data.seq14; DROP TABLE data.seq15; DROP TABLE data.seq16; DROP TABLE data.seq17; DROP TABLE data.seq18; DROP TABLE data.seq19; DROP TABLE data.seq20; DROP TABLE data.seq21; DROP TABLE data.seq22; DROP TABLE data.seq23; DROP TABLE data.seq24; DROP TABLE data.seq25; DROP TABLE data.seq26; DROP TABLE data.seq27; DROP TABLE data.seq28; DROP TABLE data.seq29; DROP TABLE data.seq30; DROP TABLE data.seq31; DROP TABLE data.seq32; DROP TABLE data.seq33; DROP TABLE data.seq34; DROP TABLE data.seq35; DROP TABLE data.seq36; DROP TABLE data.seq37; DROP TABLE data.seq38; DROP TABLE data.seq39; DROP TABLE data.seq40; DROP TABLE data.seq41; DROP TABLE data.seq42; DROP TABLE data.seq43; DROP TABLE data.seq44; DROP TABLE data.seq45; DROP TABLE data.seq46; DROP TABLE data.seq47; DROP TABLE data.seq48; DROP TABLE data.seq49; DROP TABLE data.seq50; DROP TABLE data.seq51; DROP TABLE data.seq52; DROP TABLE data.seq53; DROP TABLE data.seq54; DROP TABLE data.seq55; DROP TABLE data.seq56; DROP TABLE data.seq57; DROP TABLE data.seq58; DROP TABLE data.seq59; DROP TABLE data.seq60; DROP TABLE data.seq61; DROP TABLE data.seq62; DROP TABLE data.seq63; DROP TABLE data.seq64; DROP TABLE data.seq65; DROP TABLE data.seq66; DROP TABLE data.seq67; DROP TABLE data.seq68; DROP TABLE data.seq69; DROP TABLE data.seq70; DROP TABLE data.seq71; DROP TABLE data.seq72; DROP TABLE data.seq73; DROP TABLE data.seq74; DROP TABLE data.seq75; DROP TABLE data.seq76; DROP TABLE data.seq77; DROP TABLE data.seq78; DROP TABLE data.seq79; DROP TABLE data.seq80; DROP TABLE data.seq81; DROP TABLE data.seq82; DROP TABLE data.seq83; DROP TABLE data.seq84; DROP TABLE data.seq85; DROP TABLE data.seq86; DROP TABLE data.seq87; DROP TABLE data.seq88; DROP TABLE data.seq89; DROP TABLE data.seq90; DROP TABLE data.seq91; DROP TABLE data.seq92; DROP TABLE data.seq93; DROP TABLE data.seq94; DROP TABLE data.seq95; DROP TABLE data.seq96; DROP TABLE data.seq97; DROP TABLE data.seq98; DROP TABLE data.seq99; DROP TABLE data.seq100; DROP TABLE data.seq101; DROP TABLE data.seq102; DROP TABLE data.seq103; DROP TABLE data.seq104; DROP TABLE data.seq105; DROP TABLE data.seq106; DROP TABLE data.seq107; DROP TABLE data.seq108; DROP TABLE data.seq109; DROP TABLE data.seq110; DROP TABLE data.seq111; DROP TABLE data.seq112; DROP TABLE data.seq113; DROP TABLE data.seq114; DROP TABLE data.seq115; DROP TABLE data.seq116; DROP TABLE data.seq117; DROP TABLE data.seq118; DROP TABLE data.seq119; DROP TABLE data.seq120; DROP TABLE data.seq121; DROP TABLE data.moeseq1; DROP TABLE data.moeseq2; DROP TABLE data.moeseq3; DROP TABLE data.moeseq4; DROP TABLE data.moeseq5; DROP TABLE data.moeseq6; DROP TABLE data.moeseq7; DROP TABLE data.moeseq8; DROP TABLE data.moeseq9; DROP TABLE data.moeseq10; DROP TABLE data.moeseq11; DROP TABLE data.moeseq12; DROP TABLE data.moeseq13; DROP TABLE data.moeseq14; DROP TABLE data.moeseq15; DROP TABLE data.moeseq16; DROP TABLE data.moeseq17; DROP TABLE data.moeseq18; DROP TABLE data.moeseq19; DROP TABLE data.moeseq20; DROP TABLE data.moeseq21; DROP TABLE data.moeseq22; DROP TABLE data.moeseq23; DROP TABLE data.moeseq24; DROP TABLE data.moeseq25; DROP TABLE data.moeseq26; DROP TABLE data.moeseq27; DROP TABLE data.moeseq28; DROP TABLE data.moeseq29; DROP TABLE data.moeseq30; DROP TABLE data.moeseq31; DROP TABLE data.moeseq32; DROP TABLE data.moeseq33; DROP TABLE data.moeseq34; DROP TABLE data.moeseq35; DROP TABLE data.moeseq36; DROP TABLE data.moeseq37; DROP TABLE data.moeseq38; DROP TABLE data.moeseq39; DROP TABLE data.moeseq40; DROP TABLE data.moeseq41; DROP TABLE data.moeseq42; DROP TABLE data.moeseq43; DROP TABLE data.moeseq44; DROP TABLE data.moeseq45; DROP TABLE data.moeseq46; DROP TABLE data.moeseq47; DROP TABLE data.moeseq48; DROP TABLE data.moeseq49; DROP TABLE data.moeseq50; DROP TABLE data.moeseq51; DROP TABLE data.moeseq52; DROP TABLE data.moeseq53; DROP TABLE data.moeseq54; DROP TABLE data.moeseq55; DROP TABLE data.moeseq56; DROP TABLE data.moeseq57; DROP TABLE data.moeseq58; DROP TABLE data.moeseq59; DROP TABLE data.moeseq60; DROP TABLE data.moeseq61; DROP TABLE data.moeseq62; DROP TABLE data.moeseq63; DROP TABLE data.moeseq64; DROP TABLE data.moeseq65; DROP TABLE data.moeseq66; DROP TABLE data.moeseq67; DROP TABLE data.moeseq68; DROP TABLE data.moeseq69; DROP TABLE data.moeseq70; DROP TABLE data.moeseq71; DROP TABLE data.moeseq72; DROP TABLE data.moeseq73; DROP TABLE data.moeseq74; DROP TABLE data.moeseq75; DROP TABLE data.moeseq76; DROP TABLE data.moeseq77; DROP TABLE data.moeseq78; DROP TABLE data.moeseq79; DROP TABLE data.moeseq80; DROP TABLE data.moeseq81; DROP TABLE data.moeseq82; DROP TABLE data.moeseq83; DROP TABLE data.moeseq84; DROP TABLE data.moeseq85; DROP TABLE data.moeseq86; DROP TABLE data.moeseq87; DROP TABLE data.moeseq88; DROP TABLE data.moeseq89; DROP TABLE data.moeseq90; DROP TABLE data.moeseq91; DROP TABLE data.moeseq92; DROP TABLE data.moeseq93; DROP TABLE data.moeseq94; DROP TABLE data.moeseq95; DROP TABLE data.moeseq96; DROP TABLE data.moeseq97; DROP TABLE data.moeseq98; DROP TABLE data.moeseq99; DROP TABLE data.moeseq100; DROP TABLE data.moeseq101; DROP TABLE data.moeseq102; DROP TABLE data.moeseq103; DROP TABLE data.moeseq104; DROP TABLE data.moeseq105; DROP TABLE data.moeseq106; DROP TABLE data.moeseq107; DROP TABLE data.moeseq108; DROP TABLE data.moeseq109; DROP TABLE data.moeseq110; DROP TABLE data.moeseq111; DROP TABLE data.moeseq112; DROP TABLE data.moeseq113; DROP TABLE data.moeseq114; DROP TABLE data.moeseq115; DROP TABLE data.moeseq116; DROP TABLE data.moeseq117; DROP TABLE data.moeseq118; DROP TABLE data.moeseq119; DROP TABLE data.moeseq120; DROP TABLE data.moeseq121;");

    query.on('end', function() {
        client.end();
      
            filesEEG.emit('cleanup');
    });

};